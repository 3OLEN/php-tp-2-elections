{% extends "layout/base.html.twig" %}

{% block content %}
    {% if current_elections | length > 0 %}
        <section>
            <header>
                <h2>Élections en cours</h2>
            </header>
            <main>
                <p>Il y a actuellement <u>{{ current_elections | length }}</u> élection·s en cours.</p>
                <ul>
                    {% for election in current_elections %}
                        <li>
                            [{{ election.groupe.nom }}] Lancée le {{ election.date | date('d/m/Y') }} et actuellement à
                            l'étape « {{ election.etat.name }} ».
                        </li>
                    {% endfor %}
                </ul>
            </main>
        </section>
    {% endif %}

    <section>
        <header>
            <h2>Sélection du groupe</h2>
        </header>
        <main>
            <p>Veuillez sélectionner le groupe pour lequel organiser des élections.</p>

            <form action="/elections" method="post">
                <label for="group">Groupe</label>
                <select name="group" id="group" required>
                    <option value="">-- Sélectionner un groupe --</option>
                    {% for group in groups %}
                        <option
                            value="{{ group.id }}"
                            {% if selected_group and selected_group.id == group.id %}selected{% endif %}
                        >
                            {{ group.nom }}
                        </option>
                    {% endfor %}
                </select>
                <button type="submit">Valider</button>
            </form>
        </main>
    </section>

{% endblock content %}
